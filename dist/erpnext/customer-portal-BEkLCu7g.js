import{r as l,j as e,c as o,d as u}from"./customer-portal.js";import{D as y,b as g,c as j,d as N,e as v}from"./customer-portal-DhHtNYSE.js";import{B as w}from"./customer-portal-DohqzjMo.js";import{S as T}from"./customer-portal-QpMYTnnK.js";import{t as D,d as C}from"./customer-portal-Dytd1BVN.js";const h=l.forwardRef(({className:a,...t},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:o("w-full caption-bottom text-sm",a),...t})}));h.displayName="Table";const b=l.forwardRef(({className:a,...t},r)=>e.jsx("thead",{ref:r,className:o("[&_tr]:border-b",a),...t}));b.displayName="TableHeader";const f=l.forwardRef(({className:a,...t},r)=>e.jsx("tbody",{ref:r,className:o("[&_tr:last-child]:border-0",a),...t}));f.displayName="TableBody";const R=l.forwardRef(({className:a,...t},r)=>e.jsx("tfoot",{ref:r,className:o("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...t}));R.displayName="TableFooter";const m=l.forwardRef(({className:a,...t},r)=>e.jsx("tr",{ref:r,className:o("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...t}));m.displayName="TableRow";const d=l.forwardRef(({className:a,...t},r)=>e.jsx("th",{ref:r,className:o("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...t}));d.displayName="TableHead";const n=l.forwardRef(({className:a,...t},r)=>e.jsx("td",{ref:r,className:o("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...t}));n.displayName="TableCell";const S=l.forwardRef(({className:a,...t},r)=>e.jsx("caption",{ref:r,className:o("mt-4 text-sm text-muted-foreground",a),...t}));S.displayName="TableCaption";const i=a=>{const t=typeof a=="string"?parseFloat(a):a;return new Intl.NumberFormat("fr-MA",{style:"currency",currency:"MAD"}).format(t)},p=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),O={delivered:"bg-green-100 text-green-800","in transit":"bg-blue-100 text-blue-800",processing:"bg-blue-100 text-blue-800",pending:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800"},F=a=>O[a.toLowerCase()]||"bg-gray-100 text-gray-800";function M({order:a,isOpen:t,onClose:r}){const{language:x}=u(),s=D[x].dashboard;return a?e.jsx(y,{open:t,onOpenChange:r,children:e.jsxs(g,{className:"max-w-3xl p-0 max-h-[90vh] flex flex-col portal-card border-portal",children:[e.jsxs(j,{className:"p-6 flex-shrink-0",children:[e.jsxs(N,{className:"text-2xl font-semibold",style:{color:"var(--portal-text)"},children:[s.orderNumber,a.orderNumber]}),e.jsx(v,{style:{color:"var(--portal-accent)"},children:s.detailsForYourSalesOrder})]}),e.jsxs("div",{className:"px-6 pb-6 space-y-6 overflow-y-auto flex-grow",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",style:{color:"var(--portal-accent)"},children:s.orderDate}),e.jsx("p",{style:{color:"var(--portal-text)"},children:p(a.orderDate)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",style:{color:"var(--portal-accent)"},children:s.deliveryDate}),e.jsx("p",{style:{color:"var(--portal-text)"},children:a.deliveryDate?p(a.deliveryDate):s.notSpecified})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",style:{color:"var(--portal-accent)"},children:s.status}),e.jsx(w,{className:F(a.status),children:C(a.status,x)})]})]}),e.jsx(T,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--portal-text)"},children:s.items}),e.jsx("div",{className:"border rounded-lg",style:{borderColor:"var(--border)"},children:e.jsxs(h,{children:[e.jsx(b,{children:e.jsxs(m,{children:[e.jsx(d,{style:{color:"var(--portal-accent)"},children:s.item}),e.jsx(d,{className:"text-right",style:{color:"var(--portal-accent)"},children:s.quantity}),e.jsx(d,{className:"text-right",style:{color:"var(--portal-accent)"},children:s.price}),e.jsx(d,{className:"text-right",style:{color:"var(--portal-accent)"},children:"Total"})]})}),e.jsx(f,{children:(a.items||[]).map(c=>e.jsxs(m,{className:"order-item-row",children:[e.jsx(n,{className:"font-medium portal-text",children:c.name}),e.jsx(n,{className:"text-right portal-text",children:c.quantity}),e.jsx(n,{className:"text-right portal-text",children:i(c.price)}),e.jsx(n,{className:"text-right font-medium portal-text",children:i(c.amount)})]},c.id))})]})})]})]}),e.jsx("div",{className:"flex justify-end items-center p-6 border-t flex-shrink-0",style:{borderColor:"var(--border)"},children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm",style:{color:"var(--portal-accent)"},children:s.grandTotal}),e.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--portal-primary)"},children:i(a.amount)})]})})]})}):null}export{M as O};
