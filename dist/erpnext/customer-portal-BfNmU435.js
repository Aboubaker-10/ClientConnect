import{f as x,u,d as v,x as y,j as e,e as N}from"./customer-portal.js";import{t as f,C as d,a as m,B as g,b as h,c as p,d as b}from"./customer-portal-Dytd1BVN.js";import{B as k}from"./customer-portal-DohqzjMo.js";import{S as o}from"./customer-portal-QpMYTnnK.js";import{U as M,G as w}from"./customer-portal-C12-j2cV.js";import{A as L}from"./customer-portal-BXFxuucs.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=x("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=x("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=x("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=x("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);function B(s,r){let a={address:null,phone:null,email:null};if(s&&typeof s=="object"){const c=[s.address_line1,s.address_line2,s.city,s.state,s.country,s.pincode].filter(Boolean);a={address:c.length>0?c.join(", "):null,phone:s.phone||null,email:s.email_id||null}}else if(s&&typeof s=="string"){const c=s.match(/Phone:\s*([+\d\s-]+)/),i=s.match(/Email:\s*([^\s,]+)/);let n=s.replace(/,\s*Phone:[^,]+/g,"").replace(/,\s*Email:[^,]+/g,"").replace(/,\s*,+/g,",").replace(/,\s*$/,"").replace(/^,\s*/,"").trim();n=n.replace(/,\s*,\s*$/,"").trim(),a={address:n||null,phone:c?c[1].trim():null,email:i?i[1].trim():null}}return!a.phone&&r.phone&&(a.phone=r.phone),!a.email&&r.email&&(a.email=r.email),a.address||a.phone||a.email?a:null}function G(){const[,s]=u(),{language:r}=v(),a=f[r].dashboard,{data:c,isLoading:i,error:n}=y({queryKey:["profile"],queryFn:async()=>(await N("GET","/api/customer/profile")).json()});if(i)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"})]})]})});if(n)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(d,{className:"border-red-200",children:e.jsx(m,{className:"pt-6",children:e.jsx("p",{className:"text-red-600",children:a.unableToLoadProfile})})})});const{customer:l}=c,t=B((l==null?void 0:l.primary_address)||(l==null?void 0:l.primaryAddress),l);return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(M,{style:{color:"var(--portal-primary)"},className:"text-lg"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--portal-text)"},children:a.customerProfile}),e.jsx("p",{className:"text-sm",style:{color:"var(--portal-accent)"},children:a.accountInformation})]})]}),e.jsxs(g,{variant:"ghost",size:"sm",onClick:()=>s("/dashboard"),className:"flex items-center space-x-2",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{children:a.backToDashboard})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(d,{className:"portal-card border-portal",children:[e.jsx(h,{children:e.jsxs(p,{className:"flex items-center gap-2",style:{color:"var(--portal-text)"},children:[e.jsx(C,{className:"h-5 w-5",style:{color:"var(--portal-primary)"}}),a.customerInformation]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",style:{color:"var(--portal-accent)"},children:a.customerId}),e.jsx("p",{className:"text-base",style:{color:"var(--portal-text)"},children:l.id})]}),e.jsx(o,{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",style:{color:"var(--portal-accent)"},children:a.companyName}),e.jsx("p",{className:"text-base",style:{color:"var(--portal-text)"},children:l.name})]}),e.jsx(o,{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",style:{color:"var(--portal-accent)"},children:a.accountStatus}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{variant:l.status==="Active"?"default":"secondary",className:l.status==="Active"?"bg-green-100 text-green-800":"",children:b(l.status,r)})})]}),e.jsx(o,{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",style:{color:"var(--portal-accent)"},children:a.defaultCurrency}),e.jsxs("p",{className:"text-base",style:{color:"var(--portal-text)"},children:[l.defaultCurrency||"MAD"," - ",a.moroccanDirham]})]})]})]}),e.jsxs(d,{className:"portal-card border-portal",children:[e.jsx(h,{children:e.jsxs(p,{className:"flex items-center gap-2",style:{color:"var(--portal-text)"},children:[e.jsx(j,{className:"h-5 w-5",style:{color:"var(--portal-primary)"}}),a.contactInformation]})}),e.jsxs(m,{className:"space-y-4",children:[(t==null?void 0:t.address)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",style:{color:"var(--portal-accent)"},children:a.primaryAddress}),e.jsx("p",{className:"text-base leading-relaxed",style:{color:"var(--portal-text)"},children:t.address})]}),e.jsx(o,{})]}),(t==null?void 0:t.phone)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",style:{color:"var(--portal-accent)"},children:[e.jsx(q,{className:"h-4 w-4"}),a.phoneNumber]}),e.jsx("p",{className:"text-base",style:{color:"var(--portal-text)"},children:t.phone})]}),e.jsx(o,{})]}),(t==null?void 0:t.email)&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",style:{color:"var(--portal-accent)"},children:[e.jsx(P,{className:"h-4 w-4"}),a.emailAddress]}),e.jsx("p",{className:"text-base",style:{color:"var(--portal-text)"},children:t.email})]}),!t&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(j,{className:"h-12 w-12 mx-auto mb-3 opacity-50",style:{color:"var(--portal-accent)"}}),e.jsx("p",{className:"text-sm",style:{color:"var(--portal-accent)"},children:a.noContactInformation})]})]})]})]}),e.jsxs(d,{className:"portal-card border-portal",children:[e.jsx(h,{children:e.jsxs(p,{className:"flex items-center gap-2",style:{color:"var(--portal-text)"},children:[e.jsx(w,{className:"h-5 w-5",style:{color:"var(--portal-primary)"}}),a.accountActivity]})}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",style:{color:"var(--portal-accent)"},children:a.lastLogin}),e.jsx("p",{className:"text-base",style:{color:"var(--portal-text)"},children:new Date(l.lastLogin).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",style:{color:"var(--portal-accent)"},children:a.languagePreference}),e.jsx("p",{className:"text-base",style:{color:"var(--portal-text)"},children:l.language==="ar"?a.arabic:l.language||a.notSpecified})]})]})})]})]})})}export{G as default};
